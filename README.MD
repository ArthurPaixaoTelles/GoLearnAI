# ‚òÅÔ∏è IsCoolGPT - Cloud Native AI Assistant

> Assistente de Intelig√™ncia Artificial Fullstack desenvolvido em Go, containerizado com Docker e orquestrado na AWS (ECS Fargate) atrav√©s de uma robusta pipeline CI/CD.

![Go](https://img.shields.io/badge/Go-1.22-00ADD8?logo=go&logoColor=white)
![Docker](https://img.shields.io/badge/Docker-Multi_Stage-2496ED?logo=docker&logoColor=white)
![AWS](https://img.shields.io/badge/AWS-ECS_Fargate-FF9900?logo=amazon-aws&logoColor=white)
![CI/CD](https://img.shields.io/badge/GitHub_Actions-Automated-2088FF?logo=github-actions&logoColor=white)
![License](https://img.shields.io/badge/License-MIT-green)

---

## üìñ Sobre o Projeto

O **IsCoolGPT** √© um projeto da disciplina de Cloud Computing, cujo foco √© a implementa√ß√£o de uma arquitetura de microsservi√ßos modular moderna. Ela consiste na integra√ß√£o do modelo de texto **gpt-oss-20b**, que est√° hospedado na plataforma **Hugging Face**, com os servi√ßos da AWS, permitindo seu uso de maneira f√°cil e simples.

O diferencial do projeto √© o foco em **DevOps**, **FinOps** (otimiza√ß√£o de custos na nuvem) e **Automa√ß√£o**, utilizando infraestrutura como c√≥digo e esteiras de deploy cont√≠nuo. Ap√≥s integrar tudo, foi constru√≠da uma p√°gina simples de frontend para facilitar a intera√ß√£o.

---

## üèóÔ∏è Arquitetura e Tecnologias

### 1. Backend & Frontend (Go Monolith)
* **Linguagem:** Go (Golang) 1.22.
* **Roteamento:** Biblioteca `Gorilla Mux`.
* **Frontend:** HTML5/JS Vanilla servido estaticamente pelo pr√≥prio bin√°rio Go (reduzindo complexidade de infraestrutura).
* **Integra√ß√£o:** Consumo da API de Infer√™ncia Serverless da Hugging Face.

### 2. Containeriza√ß√£o (Docker)
Utiliza√ß√£o de **Multi-stage Builds** para alta otimiza√ß√£o:
* **Stage 1 (Builder):** Imagem `golang:alpine` para compila√ß√£o.
* **Stage 2 (Runtime):** Imagem `alpine:latest` para execu√ß√£o.
* **Resultado:** Imagem final de apenas **32.4MB** no Docker e **~9.17MB** no AWS ECR, garantindo deploys r√°pidos e menor custo de armazenamento.

### 3. Infraestrutura Cloud (AWS)
* **Compute:** AWS ECS (Elastic Container Service) com **Fargate Spot** (Serverless).
    * *Decis√£o:* O uso de Spot Instances reduz o custo computacional em at√© 70%.
* **Networking:** Application Load Balancer (ALB) para gest√£o de tr√°fego e endpoint fixo.
* **Registry:** AWS ECR (Elastic Container Registry) para armazenamento seguro das imagens.
* **Seguran√ßa:** Security Groups configurados em camadas (Firewall Virtual):
    * O **ALB** aceita tr√°fego p√∫blico na porta 80.
    * Os **Containers** aceitam tr√°fego apenas vindo do ALB na porta 8080 (isolamento total).
    * **Aplica√ß√£o:** Inje√ß√£o segura de segredos (`HF_API_KEY`) em tempo de execu√ß√£o via Vari√°veis de Ambiente, garantindo que credenciais sens√≠veis nunca fiquem expostas no c√≥digo.

---

## ‚öôÔ∏è Pipeline de CI/CD (DevOps)

O projeto implementa um fluxo de **GitFlow Simplificado** automatizado via GitHub Actions:

| Branch | Ambiente | A√ß√£o Autom√°tica |
| :--- | :--- | :--- |
| `dev` | Desenvolvimento | **CI:** Execu√ß√£o de Testes Unit√°rios e Integra√ß√£o (Mock). |
| `staging` | Pr√©-Produ√ß√£o | **CI + CD:** Testes + Build Docker + Deploy autom√°tico no ECS (Ambiente de Valida√ß√£o). |
| `main` | Produ√ß√£o | **CI + CD:** Testes + Build Docker (Tag `latest`) + Deploy final no ECS. |

### Testes Automatizados
Os testes (`*_test.go`) utilizam **Mocking** para simular a API da Hugging Face, permitindo validar a l√≥gica de neg√≥cios sem depender de conectividade externa ou gastar cotas de API durante a pipeline.

---

## üöÄ Como Acessar e Testar

A aplica√ß√£o est√° implantada e rodando em alta disponibilidade na AWS.

### üåê Acesso via Navegador (Frontend)
Acesse o chat interativo atrav√©s do Load Balancer da AWS:
üëâ **[http://alb-golearnai-2009330452.us-east-2.elb.amazonaws.com](http://alb-golearnai-2009330452.us-east-2.elb.amazonaws.com)**

### üß™ Testando via Terminal (API)


### Linux / macOS / Bash
curl -X POST <http://alb-golearnai-2009330452.us-east-2.elb.amazonaws.com/api/prompt> \
     -H "Content-Type: application/json" \
     -d '{"question": "Qual a vantagem de usar Docker?"}'


### Windows (PowerShell)

$body = @{ question = "Qual a vantagem de usar Docker?" } | ConvertTo-Json

Invoke-RestMethod -Uri <http://alb-golearnai-2009330452.us-east-2.elb.amazonaws.com/api/prompt> `
    -Method POST `
    -Body $body `
    -ContentType "application/json"



---

## üõ°Ô∏è Monitoramento e Custos

- **CloudWatch Logs:** logs completos + alarmes de CPU (>80%)  
- **Auto Scaling:** 1‚Äì3 tarefas Fargate, baseado em CPU  
- **AWS Budgets:** alertas configurados  
- **FinOps:** uso de Fargate Spot + imagem leve reduz drasticamente o custo

---

## üìÑ Licen√ßa

Distribu√≠do sob a licen√ßa **MIT**.

---

## ü§ù Contribui√ß√£o

Contribui√ß√µes s√£o bem-vindas!  
Sinta-se √† vontade para abrir uma *issue* ou enviar um *pull request*.
